FROM python:2.7
# Add Virustotal API Key
RUN apt update && \
    apt install -y \
    git \
    python-dnspython \
    wget

RUN git clone https://github.com/guelfoweb/knock.git

WORKDIR /knock

RUN python setup.py install

RUN wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/DNS/subdomains-top1million-110000.txt -O /wordlist.txt

RUN echo "nameserver 8.8.8.8" > /etc/resolv.conf

ENTRYPOINT ["python", "/knock/knockpy/knockpy.py"]